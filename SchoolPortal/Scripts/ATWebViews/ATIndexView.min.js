function UpdateControlHeight(){try{if(typeof jsGridName!="undefined"){var n=UpdateGridToFullHeight(jsGridName,extraControlsHeight);$("#bodyDetailContainer").height(n)}}catch(t){HandleError(t)}}function PerformATDeleteAction(){try{if(selectedKeys===null||selectedKeys===""){ShowPopupMessage("Please select a record to delete");return}jsDeleteValidation.length>0?AjaxRequest("GET",jsController,jsDeleteValidation,jsAreaName,{selectedKeyVal:selectedKeys},!0,OnATDeleteValidation,AjaxRequestError):(deleteKeys=selectedKeys,ShowPopupMessage("Are you sure you want to delete selected record?","Confirm Delete",2,ConfirmATDeleteAction))}catch(n){HandleError(n)}}function OnATDeleteValidation(n){try{deleteKeys=n.KeyValuesToDelete;n.AllowDeleteAll===!0?ShowPopupMessage("Are you sure you want to delete selected record(s)?","Confirm Delete",2,ConfirmATDeleteAction):n.PartialDelete===!0?ShowPopupMessage(n.Message,"Confirm Delete",2,ConfirmATDeleteAction):ShowPopupMessage(n.Message,"Delete",1)}catch(t){HandleError(t)}}function ConfirmATDeleteAction(){try{if(deleteKeys===null)return;AjaxRequest("POST",jsController,jsDeleteAction,jsAreaName,{selectedKeyVal:deleteKeys,__RequestVerificationToken:$("[name=__RequestVerificationToken]").val()},!0,OnATDeleteSuccess,AjaxRequestError)}catch(n){HandleError(n)}}function OnATDeleteSuccess(){var u,n,i,r,t,f;try{if(u=$("#GridDivName").val(),n=$("#"+u).dxDataGrid("instance"),n){for(n.option("editing.texts.confirmDeleteMessage",jsConfirmDeleteMessage),i=deleteKeys.split(","),r=n.option("dataSource").store._array,t=0;t<i.length;t++)f=n.getRowIndexByKey(i[t]),r.splice(f-t,1);n.option("dataSource.store._array",r)}selectedKeys=""}catch(e){HandleError(e)}}function OnSaveSuccess(n){try{HideNotifications();n.Redirect?window.location.href=n.Redirect:n.Redirect==""?window.location.reload():n.Success||n=="Success"?(ShowPopupMessage("Your changes are saved successfully.","Success",1),setTimeout(HideNotifications,3e3)):ShowPopupMessage(n.ErrorMessage,"Error")}catch(t){hideLoadingPanel();HidePopupMessage();HandleError(t)}}function HideNotifications(){try{hideLoadingPanel();$("#lblATIndexSuccess").html("");$("#lblATIndexError").html("")}catch(n){HandleError(n)}}function OnMenuItemClick(n){var u,i,r,t,f;try{if(u=$("#GridDivName").val(),i=$("#"+u).dxDataGrid("instance"),i)for(selected="",r=i.getSelectedRowKeys(),t=0;t<r.length;t++)selected&&(selected+=","),selected+=r[t];if(n==="btnNew")window.location.href="/"+jsController+"/"+jsNewAction;else if(n==="btnDetails"){if(selected===null||selected===""){ShowPopupMessage("Please select a record to view","Details");return}if(f=selected.split(","),f.length>1){ShowPopupMessage("Please select only one record to view","Details");return}window.location.href="/"+jsController+"/"+jsDetailsAction+"?Id="+selected}else if(n==="btnDelete"){if(selected===null||selected===""){ShowPopupMessage("Please select a record to delete","Delete");return}jsDeleteValidation.length>0?AjaxRequest("GET",jsController,jsDeleteValidation,jsAreaName,{selectedKeyVal:selected},!0,OnATDeleteValidation,AjaxRequestError):(deleteKeys=selected,ShowPopupMessage("Are you sure you want to delete selected record(s)?","Confirm Delete",2,ConfirmATDeleteAction))}else n==="btnBack"?window.location.href="/"+jsController+"/Index":n==="btnRefresh"?location.reload():PerformOnMenuItemClick(n)}catch(e){HandleError(e)}}function showLoadingPanel(n,t){if(loadingPanel){if(t!=null&&t!=undefined&&t!=""){var i="#"+t;loadingPanel._options.position={of:i}}n!=null&&n!=undefined&&n!=""?loadingPanel.option("message",n):loadingPanel.option("message","Loading....");loadingPanel.show()}}function showSavingPanel(){showLoadingPanel("Saving your changes...")}function hideLoadingPanel(){try{loadingPanel&&(loadingPanel.hide(),loadingPanel._options.position={at:"center",my:"center"})}catch(n){HandleError(n)}}var loadingPanel,extraControlsHeight,selected;$(function(){loadingPanel=$("#loadingPanelContainer").dxLoadPanel({shadingColor:"rgba(0,0,0,0.4)",visible:!1,showIndicator:!0,showPane:!0,shading:!0,closeOnOutsideClick:!1}).dxLoadPanel("instance")});$(document).ready(function(){try{typeof jsNavbarName!="undefined"&&jsNavbarName.length!=0&&($(".navbar-main .nav").find(".active").removeClass("active"),$(".navbar-main .nav").find("."+jsNavbarName).addClass("active"));$("#saveDetailsForm").length>0&&$("#saveDetailsForm").areYouSure()}catch(n){HandleError(n)}});extraControlsHeight=0;var selectedKeys="",deleteKeys="",gridInPlace="";selected="";